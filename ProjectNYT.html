<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    </head>
    <link rel="stylesheet" type="text/css" href="css/NYT.css">
    <style type="text/css"> </style>
    <body>
        
        <h1>NYT Explorer</h1>
     
            
            
                <input type="month" id="month">
                <button onclick="find()">Find</button>
                   <div id="root"></div>
                
            
        
        <script type="text/babel">

            class App extends React.Component{

                constructor(props){
                    super(props);

                    this.state={'urls':[]};
                    this.onSuccess=this.onSuccess.bind(this);
                }
                onSuccess(responseData){


                 let urls=[]   
            for (var i=0; i<20; i++){
                const doc=responseData.response.docs[i];
                urls.push(doc.web_url);
                
                }
                this.setState({'urls': urls});
            }


    

            
        
         
         
   componentDidMount(){
$.ajax({
                url:"https://api.nytimes.com/svc/archive/v1/2016/1.json",
                method: "GET",
                data:{
                "api-key": "603fd44d05be4c86abc3b8531459b25d"},
                
                
                success: this.onSuccess
                
                             });
                     }

         render(){
          return  <Urls urls={this.state.urls}/>;
        }

      }

      function Urls(props){
        return (
          <div> 
            {
              props.urls.map(
                (url, index) => <Url key={index} url={url}/>
              )
            }
          </div>
        );
      }

      function Url(props){
        return <p><a href={props.url} target="_blank">{props.url}</a></p>;
      }

      function find(){
        const root = document.getElementById('root');
        ReactDOM.render(<App />,  root);
      }
        </script>
    </body>
    </html>